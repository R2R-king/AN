# Подсчет эритроцитов на изображениях мазков крови

Реализация метода подсчета эритроцитов на изображениях мазков крови на основе статьи А.В. Дырнаева из ИТМО.

## Описание метода

Метод основан на следующих этапах обработки изображения:
1. Медианная фильтрация для устранения шумов
2. Улучшение контраста для лучшего выделения границ
3. Выделение границ с помощью детектора Канни
4. Анализ контуров и их фильтрация по площади
5. Построение перпендикуляров для поиска центров клеток
6. Морфологическая обработка для уточнения результатов

Метод устойчив к изменениям структуры, текстуры и цвета клеток, а также позволяет производить подсчет клеток, даже перекрывающихся друг с другом, в условиях помех на изображении.

## Установка

```bash
pip install -r requirements.txt
```

## Использование

Базовый вызов:
```bash
python erythrocyte_counter.py path/to/image.jpg
```

С визуализацией:
```bash
python erythrocyte_counter.py path/to/image.jpg --visualize
```

С указанием диаметра клеток (в пикселях):
```bash
python erythrocyte_counter.py path/to/image.jpg --cell_diameter 20 --visualize
```

## Параметры

- `image_path`: путь к изображению мазка крови
- `--cell_diameter`: примерный диаметр клетки в пикселях (опционально)
- `--visualize`: флаг для отображения промежуточных результатов и визуализации (опционально)

## Источник

Метод основан на статье:
Дырнаев А.В. "МЕТОД ПОДСЧЕТА ЭРИТРОЦИТОВ НА ИЗОБРАЖЕНИЯХ МАЗКОВ КРОВИ", Санкт-Петербургский национальный исследовательский университет информационных технологий, механики и оптики.
[Статья](https://ntv.ifmo.ru/file/article/821.pdf) 